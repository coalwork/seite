<head>
  <link rel="stylesheet" href="/styles/login.css">
  <script>
    function submit(type) {
      if (!type) { throw Error('No type specified during submit'); }

      const form = document.getElementById('login');
      form.setAttribute('action', `/api/${type}`);
      form.dispatchEvent(new SubmitEvent('submit'));
    }

    addEventListener('DOMContentLoaded', () => {
      const [ login, register ] = document.getElementById('submit').children;
      login.addEventListener('click', submit.bind(null, 'login'));
      register.addEventListener('click', submit.bind(null, 'register'));
    });
  </script>
</head>
<body>
  <main>
    <form id="login" method="POST">
      <h1>Log In / Register</h1>
      <label>
        <span>Username:</span>
        <input type="text" name="username">
      </label>
      <label>
        <span>Password:</span>
        <input type="password" name="password">
      </label>
      <span id="submit">
        <button class="login" type="button">Log In</button
        ><button class="register" type="button">Register</button>
      </span>
    </form>
  </main>
</body>